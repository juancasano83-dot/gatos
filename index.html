<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gatos - Todo sobre Gatos | Características, Cuidados y Curiosidades</title>
    <!-- Meta descripción optimizada para SEO -->
    <meta name="description" content="Descubre todo sobre los gatos: características, cuidados, comportamiento, alimentación y curiosidades. Aprende a dibujar un gato, conoce cuánto viven y sus sentidos especiales. Información completa sobre el mundo felino.">
    <meta name="keywords" content="gato, gatos, cuidados gatos, comportamiento gatos, dibujar gato, cuanto viven los gatos, alimentación gatos, curiosidades gatos, mundo felino">
    
    <!-- Google Analytics CORREGIDO -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVMPHDDBNT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-EVMPHDDBNT');
    </script>
    
    <!-- Preload de recursos críticos -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/sketchy/bootstrap.min.css" as="style">
    <link rel="preload" href="images/gato1.avif" as="image">
    
    <!-- Schema.org markup para SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Todo sobre Gatos - Características, Cuidados y Curiosidades",
      "description": "Información completa sobre el mundo de los gatos, sus características, comportamiento, alimentación y cuidados necesarios.",
      "image": "images/gato1.avif",
      "author": {
        "@type": "Organization",
        "name": "Mundo Felino"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Mundo Felino",
        "logo": {
          "@type": "ImageObject",
          "url": "images/gato1.avif"
        }
      },
      "datePublished": "2023-01-01",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://gatosisidoros.netlify.app"
      }
    }
    </script>
    
    <!-- Bootstrap CSS con Sketchy -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/sketchy/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css">
    
    <!-- Estilos críticos inline para mejorar FCP -->
    <style>
        /* Solo estilos críticos para renderizado inicial */
        body {
            padding-top: 76px;
            background-color: #f8f9fa;
        }
        
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1030;
        }
        
        .hero-section {
            min-height: 60vh;
            display: flex;
            align-items: center;
            padding: 40px 0;
        }
        
        /* CORRECCIÓN: Galería con tamaño fijo */
        .gallery-container {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            height: 500px;
            overflow: hidden;
        }
        
        .gallery-slide {
            display: none;
            width: 100%;
            height: 100%;
        }
        
        .gallery-slide.active {
            display: block;
        }
        
        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .img-placeholder {
            background-color: #f0f0f0;
            display: block;
        }
        
        .cat-img {
            height: 400px;
            max-width: 800px;
            width: 100%;
            object-fit: cover;
            margin-bottom: 20px;
        }
        
        .feature-card-img {
            height: 180px;
            width: 100%;
            object-fit: cover;
        }

        /* CORRECCIÓN: Mejor espaciado para la imagen principal */
        .hero-image-container {
            margin: 30px auto;
            padding: 0;
        }
    </style>
    
    <!-- Estilos no críticos cargados de forma diferida -->
    <link rel="stylesheet" href="data:text/css,"
          media="print" 
          onload="this.media='all'; this.href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css'">
    
    <!-- Estilos personalizados no críticos -->
    <style>
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .fact-card {
            border: 3px dashed #333;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .donation-box {
            border: 3px dashed #333;
            border-radius: 15px;
            padding: 20px;
        }
        
        .modal-content {
            border: 3px solid #333;
            border-radius: 15px;
        }
        
        /* Estilos para la galería interactiva - CORREGIDOS */
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            font-size: 1.5rem;
            padding: 10px 15px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
        }
        
        .gallery-nav.prev {
            left: 10px;
        }
        
        .gallery-nav.next {
            right: 10px;
        }
        
        .gallery-nav:hover {
            background-color: rgba(0,0,0,0.8);
        }
        
        .gallery-indicators {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }
        
        .gallery-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ccc;
            margin: 0 5px;
            cursor: pointer;
        }
        
        .gallery-indicator.active {
            background-color: #333;
        }
        
        /* Estilos para el botón de donación en la galería */
        .gallery-donation-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            z-index: 10;
        }
        
        /* Estilos para el botón de donación en la sección Hero */
        .hero-donation-btn {
            margin-top: 30px;
        }
        
        /* Línea divisoria */
        .divider {
            height: 3px;
            background-color: #333;
            margin: 40px 0;
            border-radius: 2px;
        }
        
        /* Estilos para el formulario centrado */
        .donation-form-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Botón de scroll al acordeón */
        .scroll-to-section {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            background-color: #007bff;
            color: white;
            border: 2px solid #333;
            font-size: 1.2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            cursor: pointer;
        }
        
        .scroll-to-section:hover {
            background-color: #0056b3;
            transform: scale(1.1);
        }
        
        /* Estilos para la sección de tutorial de dibujo */
        .tutorial-section {
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border: 3px dashed #333;
        }
        
        .tutorial-step {
            margin-bottom: 25px;
        }
        
        .tutorial-step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: #007bff;
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 15px;
        }
        
        /* Estilos para mejoras visuales de SEO */
        .keyword-highlight {
            background-color: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        /* Optimizaciones de rendimiento */
        .feature-card {
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        /* Corrección de visibilidad para texto */
        .card-text, .accordion-body, p, li, strong {
            color: inherit !important;
        }
        
        /* Mejoras de contraste */
        .bg-light {
            background-color: #f8fbfd !important;
        }
        
        .hero-section {
            background: linear-gradient(135deg, #f8fbfd 0%, #e9f2f9 100%);
        }

        /* NUEVO: Estilos para el formulario de suscripción */
        .newsletter-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px dashed #333;
            margin-top: 15px;
        }

        .newsletter-input {
            border: 2px solid #333;
            border-radius: 25px;
            padding: 10px 20px;
        }

        .newsletter-btn {
            border-radius: 25px;
            padding: 10px 25px;
            margin-top: 10px;
        }

        .social-icons a {
            display: inline-block;
            margin: 0 10px;
            font-size: 1.5rem;
            color: #333;
            transition: color 0.3s ease;
        }

        .social-icons a:hover {
            color: #007bff;
        }
    </style>
</head>
<body>
    <!-- Navbar fija -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="images/gato1.avif" class="rounded-circle me-2" alt="Logo Mundo Felino - Gato naranja" width="40" height="40" loading="eager" fetchpriority="high">
                Mundo Felino
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#inicio">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#caracteristicas">Características</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#galeria">Galería</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dibujar">Dibujar Gato</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#faq">Preguntas Frecuentes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#donaciones">Donaciones</a>
                    </li>
                    <li class="nav-item">
                        <button class="btn btn-outline-light ms-2" data-bs-toggle="modal" data-bs-target="#donationModal">Donar</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section optimizada -->
    <section id="inicio" class="hero-section text-center bg-light">
        <div class="container">
            <h1 class="display-4 mb-4">Todo sobre <span class="keyword-highlight">Gatos</span>: Características, Cuidados y Curiosidades</h1>
            <p class="lead fs-4">Descubre el fascinante mundo de los <strong>gatos</strong>: comportamiento, alimentación, cuidados y mucho más</p>
            <!-- Imagen principal optimizada - CORREGIDA -->
            <div class="hero-image-container">
                <img src="images/gato1.avif" class="img-fluid rounded cat-img" alt="Gato principal - Gato blanco y negro mirando a la cámara" width="800" height="600" loading="eager" fetchpriority="high">
            </div>
            <!-- Botón de donación -->
            <button class="btn btn-primary btn-lg hero-donation-btn" data-bs-toggle="modal" data-bs-target="#donationModal">
                Haz tu donación
            </button>
        </div>
    </section>

    <!-- Línea divisoria -->
    <div class="divider"></div>

    <!-- Resto de tu código se mantiene igual hasta el footer -->

    <!-- Footer CORREGIDO -->
    <footer class="footer-section bg-light py-5">
        <div class="container">
            <div class="row">
                <!-- Columna 1: Información de contacto -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <h5>Fundación el Mundo de los <span class="keyword-highlight">Gatos</span></h5>
                    <div class="contact-info">
                        <p><i class="bi bi-geo-alt"></i> Calle Felina, 123</p>
                        <p><i class="bi bi-telephone"></i> +34 912 345 678</p>
                        <p><i class="bi bi-envelope"></i> info@mundofelino.org</p>
                    </div>
                    <p class="mt-3">Trabajamos para mejorar la vida de los <strong>gatos</strong> mediante rescate, educación y concienciación.</p>
                </div>
                
                <!-- Columna 2: Enlaces de navegación -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <h5>Enlaces Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#inicio" class="text-decoration-none">Inicio</a></li>
                        <li><a href="#caracteristicas" class="text-decoration-none">Características</a></li>
                        <li><a href="#galeria" class="text-decoration-none">Galería</a></li>
                        <li><a href="#dibujar" class="text-decoration-none">Dibujar Gato</a></li>
                        <li><a href="#faq" class="text-decoration-none">Preguntas Frecuentes</a></li>
                        <li><a href="#donaciones" class="text-decoration-none">Donaciones</a></li>
                    </ul>
                </div>
                
                <!-- Columna 3: Proyectos -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <h5>Nuestros Proyectos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-decoration-none">Centro de Rescate Felino</a></li>
                        <li><a href="#" class="text-decoration-none">Programa de Adopción Responsable</a></li>
                        <li><a href="#" class="text-decoration-none">Investigación sobre Bienestar Felino</a></li>
                        <li><a href="#" class="text-decoration-none">Educación Ambiental en Colegios</a></li>
                        <li><a href="#" class="text-decoration-none">Programa C.E.S. (Captura, Esterilización, Suelta)</a></li>
                    </ul>
                </div>
                
                <!-- Columna 4: Redes Sociales y Newsletter - CORREGIDA -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <h5>Síguenos</h5>
                    
                    <div class="social-icons mb-4">
                        <a href="#" title="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" title="Twitter"><i class="bi bi-twitter"></i></a>
                        <a href="#" title="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" title="YouTube"><i class="bi bi-youtube"></i></a>
                    </div>
                    
                    <h6>Suscríbete a nuestro boletín</h6>
                    <p>Recibe novedades sobre <strong>gatos</strong> y nuestras actividades.</p>
                    
                    <!-- NUEVO: Formulario de suscripción -->
                    <div class="newsletter-form">
                        <form id="newsletterForm">
                            <div class="mb-3">
                                <input type="email" class="form-control newsletter-input" placeholder="Tu email" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 newsletter-btn">
                                Suscribirse <i class="bi bi-envelope-check"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom text-center mt-4 pt-4 border-top">
                <p>&copy; 2024 Fundación el Mundo de los <span class="keyword-highlight">Gatos</span>. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- El resto de tu código (modal, scripts) se mantiene igual -->

    <!-- Bootstrap JS con defer -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    
    <!-- JavaScript optimizado -->
    <script>
        // Cargar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            
            // Galería interactiva CORREGIDA
            function initializeGallery() {
                const slides = document.querySelectorAll('.gallery-slide');
                const indicators = document.querySelectorAll('.gallery-indicator');
                const prevBtn = document.querySelector('.gallery-nav.prev');
                const nextBtn = document.querySelector('.gallery-nav.next');
                let currentSlide = 0;
                
                function showSlide(index) {
                    slides.forEach(slide => slide.classList.remove('active'));
                    indicators.forEach(indicator => indicator.classList.remove('active'));
                    
                    slides[index].classList.add('active');
                    indicators[index].classList.add('active');
                    currentSlide = index;
                }
                
                prevBtn.addEventListener('click', function() {
                    let newIndex = currentSlide - 1;
                    if (newIndex < 0) newIndex = slides.length - 1;
                    showSlide(newIndex);
                });
                
                nextBtn.addEventListener('click', function() {
                    let newIndex = currentSlide + 1;
                    if (newIndex >= slides.length) newIndex = 0;
                    showSlide(newIndex);
                });
                
                indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', function() {
                        showSlide(index);
                    });
                });
                
                setInterval(function() {
                    let newIndex = currentSlide + 1;
                    if (newIndex >= slides.length) newIndex = 0;
                    showSlide(newIndex);
                }, 5000);
            }
            
            // Validación del formulario
            function initializeForm() {
                const form = document.getElementById('donationForm');
                const customAmount = document.getElementById('customAmount');
                const radioButtons = document.querySelectorAll('input[name="donationAmount"]');
                const formspreeSuccess = document.getElementById('formspreeSuccess');
                
                customAmount.addEventListener('input', function() {
                    if (this.value) {
                        radioButtons.forEach(radio => {
                            radio.checked = false;
                            radio.required = false;
                        });
                    } else {
                        radioButtons[0].required = true;
                    }
                });
                
                radioButtons.forEach(radio => {
                    radio.addEventListener('change', function() {
                        if (this.checked) {
                            customAmount.value = '';
                        }
                    });
                });
                
                form.addEventListener('submit', function(event) {
                    event.preventDefault();
                    event.stopPropagation();
                    
                    const hasRadioSelected = Array.from(radioButtons).some(radio => radio.checked);
                    const hasCustomAmount = customAmount.value && customAmount.value > 0;
                    
                    if (!hasRadioSelected && !hasCustomAmount) {
                        radioButtons[0].setCustomValidity('Debes seleccionar una cantidad o introducir una personalizada');
                    } else {
                        radioButtons[0].setCustomValidity('');
                    }
                    
                    if (form.checkValidity()) {
                        const formData = new FormData(form);
                        
                        fetch(form.action, {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        })
                        .then(response => {
                            if (response.ok) {
                                form.style.display = 'none';
                                formspreeSuccess.style.display = 'block';
                                form.reset();
                                form.classList.remove('was-validated');
                            } else {
                                response.json().then(data => {
                                    if (Object.hasOwn(data, 'errors')) {
                                        alert(data["errors"].map(error => error["message"]).join(", "));
                                    } else {
                                        alert("Oops! Hubo un problema al enviar el formulario");
                                    }
                                });
                            }
                        })
                        .catch(error => {
                            alert("Oops! Hubo un problema al enviar el formulario");
                        });
                    } else {
                        form.classList.add('was-validated');
                    }
                });

                // NUEVO: Formulario de newsletter
                const newsletterForm = document.getElementById('newsletterForm');
                if (newsletterForm) {
                    newsletterForm.addEventListener('submit', function(event) {
                        event.preventDefault();
                        const email = this.querySelector('input[type="email"]').value;
                        
                        // Aquí puedes agregar el código para enviar el email a tu servicio
                        gtag('event', 'newsletter_signup', {
                            'event_category': 'engagement',
                            'event_label': 'suscripcion_newsletter'
                        });
                        
                        alert('¡Gracias por suscribirte! Te hemos añadido a nuestra lista de correo.');
                        this.reset();
                    });
                }
            }
            
            // Botón Donar en el modal
            function initializeModal() {
                const modalDonateButton = document.getElementById('modalDonateButton');
                modalDonateButton.addEventListener('click', function() {
                    const modalElement = document.getElementById('donationModal');
                    const modal = bootstrap.Modal.getInstance(modalElement);
                    modal.hide();
                    
                    setTimeout(function() {
                        const targetElement = document.getElementById('donaciones');
                        const navbarHeight = document.querySelector('.navbar').offsetHeight;
                        const targetPosition = targetElement.offsetTop - navbarHeight - 50;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }, 300);
                });
            }
            
            // Scroll optimizado
            function initializeScroll() {
                const scrollToSection = document.getElementById('scrollToSection');
                
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 500) {
                        scrollToSection.style.display = 'block';
                    } else {
                        scrollToSection.style.display = 'none';
                    }
                });
                
                scrollToSection.addEventListener('click', function() {
                    const targetElement = document.getElementById('faq');
                    const navbarHeight = document.querySelector('.navbar').offsetHeight;
                    const targetPosition = targetElement.offsetTop - navbarHeight - 80;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                });
                
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        if (targetId === '#') return;
                        
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            const navbarHeight = document.querySelector('.navbar').offsetHeight;
                            const targetPosition = targetElement.offsetTop - navbarHeight - 80;
                            
                            window.scrollTo({
                                top: targetPosition,
                                behavior: 'smooth'
                            });
                        }
                    });
                });
            }
            
            // Inicializar componentes
            initializeGallery();
            initializeForm();
            initializeModal();
            initializeScroll();
        });
    </script>
</body>
</html>
